<article class="whiteFrame paddy10 curvedFull">
	<h1>حذف جاوا اسكریپت بلوك كننده بازگردانی</h1>
	<div class="center">
		<img src="theme/{$settings.theme}/img/remove-render.jpg" alt="حذف جاوا اسكریپت بلوك كننده بازگردانی" title="حذف جاوا اسكریپت بلوك كننده بازگردانی" width="638" height="359">
	</div>
	<br>
	<p>
		این قانون زمانی فعال می‌­شود كه DSR (Digi Seo Report) تشخیص دهد HTML شامل فایل جاوا اسكریپت بلوك كننده خارجی در محتوای نیمه بالای صفحه می­شود. 
	</p>
	<p>
		بازنگری
	</p>
	<p>
		قبل از اینكه مرورگر بتواند صفحه را بازگردانی كند، باید یك درخت DOM از طریق تجزیه كدنویسی HTML‌ ایجاد كند. در این فرآیند،‌ وقتی عنصر تجزیه كننده با اسكریپت روبرو شود، باید فرآیند را متوقف كرده و اول اسكریپت را اجرا كند. سپس می­تواند تجزیه HTML‌ را ادامه دهد. در صورت وجود اسكریپت خارجی،‌ عنصر تجزیه كننده مجبور است صبر كرده تا تمامی منابع دانلود شوند. این به معنای یك یا چند مسیر داخل شبكه و تاخیر اولین بازگردانی صفحه است.  برای اطلاعات بیشتر در مورد تأثیر جاوا اسكریپت بر مسیر حیاتی بازگردانی به بخش اضافه كردن قابلیت كنش گرا با جاوا اسكریپت1 مراجعه كنید. 
	</p>
	<p>
		توصیه‌ها 
	</p>
	<p>
		شما باید از جاوا اسكریپت­های بلوك كننده خودداری كرده و در صورت لزوم، آنها را كوچك كنید، مخصوصا وقتی اسكریپت خارجی كه قبل از اجرا باید دریافت شوند. اسكریپت­هایی كه برای بازگردانی محتوای صفحه لازم هستند را می­توان این­لاین كرده تا از درخواست بیشتر در شبكه جلوگیری كرد. البته محتوای این­لاین شده باید كوچك بوده و سریعا اجرا شود. بدین ترتیب عملكرد ارتقا پیدا خواهد كرد. اسكریپت­هایی كه برای بازگردانی اولیه حیاتی نیستند را می­توان ناهماهنگ تنظیم كرده یا تا زمان بعد از اولین بازگردانی تأخیر انداخت. یادتان باشد كه این كار با هدف بهبود زمان بارگذاری صورت می­گیرد، و همین طور شما باید CSS‌ را نیز بهبود بخشید. 
	</p>
	<p>
		این­لاین كردن جاوا اسكریپت
	</p>
	<p>
		اسكریپیت­های بلوك كننده خارجی مرورگر را مجبور می­كنند تا زمان دریافت جاوا اسكریپت صبر كند. این به معنای اضافه شدن یك یا چند مسیر شبكه قبل از بازگردانی صفحه است. اگر اسكرپیت­های خارجی كوچك باشند، می­توانید آنها را مستقیما در سند HTML قرار داده و از تأخیر درخواست شبكه جلوگیری كنید. برای مثال، اگر HTML‌ چنین شكلی داشت باشد:
	</p>
	<pre>
		<html>
  			<head>
    			<script type="text/javascript" src="small.js"></script>
  			</head>
  			<body>
    			<div>
      				Hello, world!
    			</div>
  			</body>
		</html>
	</pre>	
	<p>
		و small.js چنین شكلی داشته باشد:
		/* contents of a small JavaScript file */	
		پس می­توانید طبق شكل زیر اسكریپت را این­لاین كنید:
	</p>
	<pre>
		<html>
	  		<head>
	    		<script type="text/javascript">
	      			/* contents of a small JavaScript file */
	    		</script>
	  		</head>
	  		<body>
	    		<div>
	      			Hello, world!
	    		</div>
	  		</body>
		</html>
	</pre>
	<p>
		این­لاین كردن محتوای اسكریپت درخواست خارجی برای small.js را حذف كرده و مرورگر می­تواند زمان بازگردانی اولیه سریعتری داشته باشد. البته توجه داشته باشید كه این­لاین كردن همین طور باعث افزایش اندازه سند HTML شده و همان محتوای اسكریپت باید در تمامی صفحات این­لاین شود. در نتیجه، شما تنها باید اسكریپت­های كوچكك را این­لاین كرده تا بهترین عملكرد را بدست آورید.
	</p>
	<p>
		ناهماهنگ كردن جاوا اسكریپت
	</p>
	<p>
		Adding interactivity with JavaScript
	</p>
	<p>
		طبق تنظیمات پایه، جاوا اسكریپت ساختار DOM‌ را مهار كرده و بنابراین اولین بازگردانی را به تأخیر می­اندازد. پیشنهاد می­كنیم برای پیشگیری از این موضوع، قابلیت HTML async را در اسكریپت­های خارجی بكار ببرید. برای مثال: 
	</p>
	<pre>
		script async src="my.js"
	</pre>
	<p>
		برای كسب اطلاعات بیشتر در مورد اسكریپت­های ناهماهنگ، به بخش بلوك تجزیه كننده در مقابل جاوا اسكریپت ناهماهنگ1 مراجعه كنید. توجه داشته باشید اسكریپت­های ناهماهنگ همیشه با ترتیب خاص اجرا نشده و نباید از قابلیت Document,write در آنها استفاده شود. اسكریپت­­هایی كه به ترتیب اجرا یا دسترسی و یا اصلاح DOM یا CSSOM صفحه نیاز دارند، را می­توان با بازنویسی سازمان دهی كرد.
	</p>
	<p>
		بارگذاری متفاوت جاوا اسكریپت
	</p>
	<p>
		زمان بازگذاری و اجرای اسكریپت­­هایی كه برای بازگردانی اولیه صفحه الزامی نیستند را می­توان تغییر داده و به پس از بازگردانی اولیه یا بازگردانی بخش­های حیاتی صفحه موكول كرد. چنین كاری باعث كاهش منابع لازم برای نمایش محتوا و بهبود عملكرد خواهد شد.
	</p>
	<p>
		سوالات متداول
	</p>
	<p>
		اگر من از كتابخانه جاوا اسكریپت مانند jQuery استفاده كنم، مشكلی پیش خواهد آمد؟
		بسیاری از كتابخانه­های جاوا اسكریپت مانند jQuery برای ارتقای صفحه و افزایش قابلیت كنش پذیری، انیمیشن،‌ و سایر جلوه­ها استفاده می­شوند. البته بسیاری از این رفتارها را می­توان پس از بازگردانی محتوای نیمه بالای صفحه اجرا كرد. در این موارد نیز می­توانید از جاوا اسكریپت ناهماهنگ یا تغییر زمان اجرای جاوا اسكریپت استفاده كنید. 
		اگر من از چهارچوب جاوا اسكریپت­ برای ساختن صفحه استفاده كنم، مشكلی پیش می­آید؟
		اگر محتوای صفحه توسط جاوا اسكریپت­ سمت مشتری ساخته شود، شما باید ما‍ژولهای جاوا اسكریپت­ مرتبط را این­لاین كرده تا از مسیرهای اضافی شبكه خودداری كنید. همین طور، می­توانید از بازگردانی سمت سرور1 برای بهبود قابل توجه سرعت بارگذاری اولین صفحه اسفتاده كنید: قالب­های جاوا اسكریپت­ را بر روی سرور بازگردانی كرده تا اولین بازگردانی سریعتری داشته باشید. سپس از قالب سمت مشتری پس از بارگذاری صفحه بهره ببرید. برای اطلاعات بیشتر در مورد بازگردانی سمت سرور از صفحه http://youtu.be/VKTWdaupft0?t=14m28s دیدن فرمایید. 
	</p>
</article>